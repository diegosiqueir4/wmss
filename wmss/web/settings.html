<!DOCTYPE html>
<html lang="en">
<head>	

</head>

<body>
	<span id="title"></span><br>
	<b>Started at:</b> <span id="started"></span><br>
	<b>Contact:</b> <span id="contact"></span><br>
	<b>Port:</b> <span id="port"></span><br>
	<b>Service:</b> <span id="service"></span><br>
	<br/>
	Data Source: 
		<select id="ds"></select><br/>
		<b>Storage:</b> <span id="ds_storage"></span><br>
		<b>Type:</b> <span id="ds_type"></span><br>
		<b>Version:</b> <span id="ds_version"></span><br>
		<b>Host:</b> <span id="ds_host"></span><br>
		<b>Port:</b> <span id="ds_port"></span><br>		
		<b>Description:</b> <span id="ds_description"></span><br>
		<b>Total Scores:</b> <span id="ds_totalscores"></span>

<script type="text/javascript">

	var sources;

	$( document ).ready(function() {

		$("#ds option").remove();

	    $.getJSON("http://"+window.location.host+"/"+window.location.pathname.split('/')[1]+"?request=DescribeService", function(data){

	        sources=data["datasources"];

	        $('#title').text(data["title"]);
	        $('#started').text(data["startup"]);
	        $('#contact').text(data["contact"]);
	        $('#service').text(data["service"]);
	        $('#port').text(data["port"]);

	        for (var i = sources.length - 1; i >= 0; i--) {
	        	 var src = sources[i];
	        	 var o = new Option(src["id"], src["id"]);	
	        	 $('#ds_description').text(src["info"]);
	        	 $('#ds_host').text(src["host"]);
	        	 $('#ds_port').text(src["port"]);
	        	 $('#ds_type').text(src["type"]);
	        	 $('#ds_storage').text(src["storage"]);
	        	 $('#ds_version').text(src["version"]);
	        	 $('#ds_totalscores').text(src["totalScores"]);
	        	 $('#ds').append(o);           
	    	}

	  	});

	});	

	
</script>

</body>	
</html>
